{"version":3,"sources":["webpack:///./components/card/templates/rating.hbs","webpack:///./services/helpers.js","webpack:///./components/card/card.js","webpack:///./components/card/templates/images.hbs"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","stack1","alias1","lambda","alias2","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","key","value","serializedState","JSON","stringify","localStorage","setItem","err","console","error","items","ITEMS","dataImages","dataColors","MODELS","COLORS","priceValue","Number","PRICE","slice","capitalizeWord","DESCRIPTION","charAt","toUpperCase","quantity","cropped","NAME","lastIndex","lastIndexOf","substring","log","res","overlay","document","querySelector","sidebarList","sidebarPrice","sidebarTotal","sidebar","increment","decrement","brand","details","rating","counter","price","colors","slides","cartColorBtn","cartIconMain","cartIconHeading","cartAddToBtn","pressAddBtn","result","window","addEventListener","closeByPressEsc","textContent","innerHTML","classList","add","headingCart","e","stopPropagation","currentTarget","openCart","closeCart","target","removeClass","code","removeEventListener","remove","increase","setAttribute","quantityPrice","decrease","setColor","ID","BRAND","LOGO","cardBrandMarkup","reduce","acc","color","COLOR","insertAdjacentHTML","ratingMarkup","imagesTemplate","Glide","type","perView","autoplay","hoverpause","mount","Controls","Autoplay","childNodes","activeLink","nullContext","program","noop"],"mappings":"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","file":"main.28bd24c5b86fff92ad8c.js","sourcesContent":["var Handlebars = require(\"../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<span class=\\\"rating__rank\\\">\"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"RAT\") : depth0)) != null ? lookupProperty(stack1,\"RATING\") : stack1), depth0))\n    + \"</span>\\r\\n<span class=\\\"rating__reviews\\\">(\"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"RAT\") : depth0)) != null ? lookupProperty(stack1,\"REVIEWS\") : stack1), depth0))\n    + \" reviews)</span>\";\n},\"useData\":true});","const load = key => {\r\n  try {\r\n    const serializedState = localStorage.getItem(key);\r\n\r\n    return serializedState === null ? undefined : JSON.parse(serializedState);\r\n  } catch (err) {\r\n    console.error('Get state error: ', err);\r\n  }\r\n};\r\n\r\nconst save = (key, value) => {\r\n  try {\r\n    const serializedState = JSON.stringify(value);\r\n    localStorage.setItem(key, serializedState);\r\n  } catch (err) {\r\n    console.error('Set state error: ', err);\r\n  }\r\n};\r\n\r\nexport default { load, save };\r\n","import Glide, {\r\n  Controls,\r\n  Autoplay,\r\n} from '@glidejs/glide/dist/glide.modular.esm';\r\n\r\nimport items from '../../services/ITEMS.json';\r\nimport ratingMarkup from './templates/rating.hbs';\r\nimport imagesTemplate from './templates/images.hbs';\r\nimport helpers from '../../services/helpers';\r\n// styles\r\nimport '../../scss/glide/glide.core.scss';\r\nimport '../../scss/components/card.scss';\r\nimport '../../scss/components/sidebar.scss';\r\n\r\n// ================= VARIABLES =================\r\n\r\nconst data = items.ITEMS[0]; // JSON data\r\nconst dataImages = items.ITEMS[0]; // JSON images array\r\nconst dataColors = items.ITEMS[0].MODELS.COLORS; // JSON colors array\r\nconst priceValue = Number(data.PRICE.slice(1)); // JSON price\r\nconst capitalizeWord =\r\n  data.DESCRIPTION.charAt(0).toUpperCase() + data.DESCRIPTION.slice(1); // JSON description\r\n\r\nlet quantity = 1;\r\nlet cropped = data.NAME;\r\nlet lastIndex = cropped.lastIndexOf(' ');\r\ncropped = cropped.substring(0, lastIndex);\r\n\r\n// console.log(data);\r\nconsole.log(dataImages);\r\n// ================= REFERENCES =================\r\n\r\n// side bar\r\nconst overlay = document.querySelector('.js-overlay');\r\nconst sidebarList = document.querySelector('.js-sidebar-list');\r\nconst sidebarPrice = document.querySelector('.js-sidebar-subtotal');\r\nconst sidebarTotal = document.querySelector('.js-sidebar-price');\r\nconst sidebar = document.querySelector('.js-sidebar');\r\n\r\n// cart\r\nconst increment = document.querySelector(\"[data-action='increment']\");\r\nconst decrement = document.querySelector(\"[data-action='decrement']\");\r\nconst brand = document.querySelector('.js-brand');\r\nconst details = document.querySelector('.js-details');\r\nconst rating = document.querySelector('.js-rating'); // before end only!\r\nconst counter = document.querySelector('.js-number');\r\nconst price = document.querySelector('.js-amount');\r\nconst colors = document.querySelector('.js-colors');\r\nconst slides = document.querySelector('.js-slides');\r\nconst cartColorBtn = document.querySelector('.price__buttons');\r\nconst cartIconMain = document.querySelector('.js-cart-icon');\r\nconst cartIconHeading = document.querySelector('.js-heading-cart');\r\nconst cartAddToBtn = document.querySelector('.js-btn-add');\r\n\r\n// ================= LISTENERS =================\r\n\r\naddListener();\r\n// add listener\r\nfunction addListener() {\r\n  // counter.addEventListener('input', getInputValue);\r\n  colors.addEventListener('click', setColor);\r\n  cartAddToBtn.addEventListener('click', pressAddBtn);\r\n  cartIconHeading.addEventListener('click', headingCart);\r\n  cartIconMain.addEventListener('click', openCart);\r\n  overlay.addEventListener('click', closeCart);\r\n  increment.addEventListener('click', increase);\r\n  decrement.addEventListener('click', decrease);\r\n}\r\n\r\n// remove listener\r\nfunction removeListener() {\r\n  cartIconMain.removeEventListener('click', openCart);\r\n  overlay.removeEventListener('click', closeCart);\r\n  window.removeEventListener('keydown', closeByPressEsc);\r\n}\r\n\r\n// ================= ADD TO CART BUTTON =================\r\n// add button\r\nfunction pressAddBtn() {\r\n  helpers.save('json', data);\r\n  window.addEventListener('keydown', closeByPressEsc);\r\n\r\n  sidebarHeaderMarkup();\r\n  sidebar.classList.add('expanded');\r\n  overlay.classList.add('overlay');\r\n}\r\n\r\n// ================= OPEN/CLOSE CART =================\r\n// open cart\r\nfunction headingCart(e) {\r\n  e.stopPropagation();\r\n\r\n  if (!e.currentTarget) return;\r\n  if (e.currentTarget) {\r\n    sidebar.classList.add('expanded');\r\n    overlay.classList.add('overlay');\r\n    window.addEventListener('keydown', closeByPressEsc);\r\n  }\r\n}\r\n// open cart\r\nfunction openCart(e) {\r\n  e.stopPropagation();\r\n\r\n  if (!e.currentTarget) return;\r\n  if (e.currentTarget) {\r\n    sidebar.classList.add('expanded');\r\n    overlay.classList.add('overlay');\r\n    window.addEventListener('keydown', closeByPressEsc);\r\n  }\r\n}\r\n// close on clicking overlay\r\nfunction closeCart(e) {\r\n  if (e.target === e.currentTarget) {\r\n    removeClass();\r\n  }\r\n}\r\n// close on press Escape\r\nfunction closeByPressEsc(e) {\r\n  if (e.code === 'Escape') {\r\n    removeClass();\r\n    window.removeEventListener('keydown', closeByPressEsc);\r\n  }\r\n}\r\n//! close on close button - temporary not in use!\r\nfunction closeOnButtonClick(e) {\r\n  if (e.target.nodeName === 'BUTTON') {\r\n    removeClass();\r\n    removeListener();\r\n  }\r\n}\r\n// remove active class\r\nfunction removeClass() {\r\n  sidebar.classList.remove('expanded');\r\n  overlay.classList.remove('overlay');\r\n}\r\n// ================= QUANTITY/PRICE =================\r\n// increase quantity +1\r\nfunction increase() {\r\n  if (quantity >= 99) {\r\n    return;\r\n  }\r\n  quantity += 1;\r\n\r\n  if (quantity < 10) {\r\n    counter.setAttribute('value', `0${quantity}`);\r\n  } else {\r\n    counter.setAttribute('value', quantity);\r\n  }\r\n  quantityPrice();\r\n}\r\n// decrease quantity -1\r\nfunction decrease() {\r\n  if (quantity <= 1) {\r\n    return;\r\n  }\r\n\r\n  quantity -= 1;\r\n\r\n  if (quantity < 10) {\r\n    counter.setAttribute('value', `0${quantity}`);\r\n  } else {\r\n    counter.setAttribute('value', quantity);\r\n  }\r\n  quantityPrice();\r\n}\r\n// price per quantity\r\nfunction quantityPrice() {\r\n  const result = quantity * priceValue;\r\n  // const rounded = result.toFixed(2);\r\n  price.textContent = `₴${result}`;\r\n  // counter.textContent = quantity;\r\n}\r\n//! counter input value - temporary not in use!\r\nfunction getInputValue(e) {\r\n  console.log('input event!');\r\n  if (isNaN(e.currentTarget.value)) {\r\n    return;\r\n  }\r\n  quantity = Number(e.currentTarget.value);\r\n  counter.setAttribute('value', `0${quantity}`);\r\n  quantityPrice();\r\n}\r\n// ================= MARKUP =================\r\n\r\n// SIDEBAR header markup\r\nfunction sidebarHeaderMarkup() {\r\n  const result = quantity * priceValue;\r\n\r\n  sidebarPrice.textContent = `₴${result}`;\r\n  sidebarTotal.textContent =\r\n    quantity > 1\r\n      ? `Subtotal (${quantity} items):`\r\n      : `Subtotal (${quantity} item):`;\r\n  sidebarList.innerHTML = `  \r\n          <li class=\"sidebar__body-item\">\r\n            <div class=\"sidebar__body-container\">\r\n              <button class=\"sidebar__body-button_delete\"></button>\r\n              <img  class=\"sidebar__body-img\"/>\r\n              <p class=\"sidebar__body-description\"></p>\r\n              <span class=\"sidebar__body-price\"></span>\r\n              <div class=\"sidebar__body-counter quantity__counter\">\r\n                <input readonly value=\"01\" type=\"text\" min=\"1\" max=\"99\" maxlength=\"2\"\r\n                    class=\"sidebar__body-input quantity__counter-number js-number\">\r\n              </div>\r\n            </div>\r\n          </li>`;\r\n}\r\n// CARD details (model, product name, product description) markup\r\nfunction cardDetailsMarkup() {\r\n  const template = `\r\n  <span class=\"details__model\">Model:${data.ID}</span>\r\n  <h3 class=\"details__name\">${cropped}</h3>\r\n  <p class=\"details__about\">${capitalizeWord}</p>`;\r\n  return (details.innerHTML = template);\r\n}\r\n// CARD brand logo markup\r\nfunction cardBrandMarkup() {\r\n  const template = `\r\n  <img src=\"${data.BRAND.LOGO}\" class=\"card-heading__logo\">\r\n  `;\r\n  return (brand.innerHTML = template);\r\n}\r\n// CARD color picker markup\r\nfunction cardColorMarkup() {\r\n  const res = dataColors.reduce((acc, color) => {\r\n    return (acc += `<button style=\"background-color: ${color.COLOR}\" class=\"price__button\"></button>`);\r\n  }, '');\r\n  return colors.insertAdjacentHTML('beforeend', res);\r\n}\r\n// CARD rating & reviews markup\r\nfunction cardRatingMarkup() {\r\n  return rating.insertAdjacentHTML('beforeend', ratingMarkup(data));\r\n}\r\n// CARD price markup\r\nfunction cardPriceMarkup() {\r\n  return (price.textContent = `₴${priceValue}`);\r\n}\r\n// CARD slider images markup\r\nfunction cardSliderImagesMarkup() {\r\n  return (slides.innerHTML = imagesTemplate(dataImages));\r\n}\r\n\r\ncardDetailsMarkup();\r\ncardBrandMarkup();\r\ncardColorMarkup();\r\ncardRatingMarkup();\r\ncardPriceMarkup();\r\ncardSliderImagesMarkup();\r\n\r\n// ================= CARD IMAGES SLIDER =================\r\n\r\nnew Glide('.glide', {\r\n  type: 'carousel',\r\n  perView: 1,\r\n  autoplay: 3000,\r\n  hoverpause: true,\r\n}).mount({ Controls, Autoplay });\r\n\r\n// ================= CARD COLOR PICKER =================\r\n\r\nconst defaultSelected = cartColorBtn.childNodes[0].classList.add(\r\n  'price__button_active',\r\n);\r\n\r\nfunction setColor(e) {\r\n  if (e.currentTarget === e.target) return;\r\n  const activeLink = e.currentTarget.querySelector('.price__button_active');\r\n\r\n  if (activeLink) {\r\n    activeLink.classList.remove('price__button_active');\r\n  }\r\n\r\n  e.target.classList.add('price__button_active');\r\n}\r\n","var Handlebars = require(\"../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"<li class=\\\"glide__slide\\\"><img class=\\\"glide__img\\\" src=\\\"\"\n    + container.escapeExpression(container.lambda(depth0, depth0))\n    + \"\\\" alt=\\\"product\\\"></li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"IMAGES\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":3,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});"],"sourceRoot":""}