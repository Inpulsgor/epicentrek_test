{"version":3,"sources":["webpack:///./components/card/templates/rating.hbs","webpack:///./services/helpers.js","webpack:///./components/card/card.js","webpack:///./components/card/templates/colors.hbs"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","stack1","alias1","lambda","alias2","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","key","value","serializedState","JSON","stringify","localStorage","setItem","err","console","error","quantity","items","ITEMS","priceValue","IMAGES","Number","PRICE","slice","log","cartIconMain","document","querySelector","cartIconHeading","addToCartBtn","sideBar","overlay","counter","amount","amountSidebar","increment","decrement","details","rating","price","pressAddBtn","headingCart","e","stopPropagation","currentTarget","classList","add","window","addEventListener","closeByPressEsc","openCart","closeCart","target","removeClass","code","remove","increase","innerHTML","quantityPrice","decrease","result","capitalizeWord","DESCRIPTION","charAt","toUpperCase","cropped","NAME","lastIndex","lastIndexOf","substring","ID","insertAdjacentHTML","ratingMarkup"],"mappings":"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","file":"main.d8a1b2adc08ed9c18d18.js","sourcesContent":["var Handlebars = require(\"../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<span class=\\\"rating__rank\\\">\"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"RAT\") : depth0)) != null ? lookupProperty(stack1,\"RATING\") : stack1), depth0))\n    + \"</span>\\r\\n<span class=\\\"rating__reviews\\\">(\"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"RAT\") : depth0)) != null ? lookupProperty(stack1,\"REVIEWS\") : stack1), depth0))\n    + \" reviews)</span>\";\n},\"useData\":true});","const load = key => {\r\n  try {\r\n    const serializedState = localStorage.getItem(key);\r\n\r\n    return serializedState === null ? undefined : JSON.parse(serializedState);\r\n  } catch (err) {\r\n    console.error('Get state error: ', err);\r\n  }\r\n};\r\n\r\nconst save = (key, value) => {\r\n  try {\r\n    const serializedState = JSON.stringify(value);\r\n    localStorage.setItem(key, serializedState);\r\n  } catch (err) {\r\n    console.error('Set state error: ', err);\r\n  }\r\n};\r\n\r\nexport default { load, save };\r\n","// import Glide from '@glidejs/glide';\r\n\r\nimport items from '../../services/ITEMS.json';\r\nimport ratingMarkup from './templates/rating.hbs';\r\nimport colorsMarkup from './templates/colors.hbs'; //!\r\n// import detailsMarkup from './templates/details.hbs';\r\n// import helpers from '../../services/helpers';\r\n\r\nimport '../../scss/components/card.scss';\r\nimport '../../scss/components/sidebar.scss';\r\nimport helpers from '../../services/helpers';\r\n\r\nlet quantity = 1;\r\n// json data\r\nconst data = items.ITEMS[0];\r\nconst dataImages = items.ITEMS[0].IMAGES;\r\nconst priceValue = Number(data.PRICE.slice(1));\r\n\r\nconsole.log(data);\r\n// ================= QUERY SELECTOR =================\r\n// side bar\r\nconst cartIconMain = document.querySelector('.js-cart-icon');\r\nconst cartIconHeading = document.querySelector('.js-heading-cart');\r\nconst addToCartBtn = document.querySelector('.js-btn-add'); //! not used\r\nconst sidebarUl = document.querySelector('.sidebar__list'); //! not used\r\nconst sideBar = document.querySelector('.js-sidebar');\r\nconst overlay = document.querySelector('.js-overlay');\r\n// quantity\r\nconst counter = document.querySelector('.js-number');\r\nconst amount = document.querySelector('.js-amount');\r\nconst amountSidebar = document.querySelector('.js-amount-sidebar');\r\nconst increment = document.querySelector(\"[data-action='increment']\");\r\nconst decrement = document.querySelector(\"[data-action='decrement']\");\r\n// markup\r\nconst details = document.querySelector('.js-details');\r\nconst rating = document.querySelector('.js-rating'); // before end\r\nconst colors = document.querySelector('.js-colors'); //! not used\r\nconst price = document.querySelector('.js-amount');\r\n\r\n// ================= ADD/REMOVE LISTENER =================\r\n// add listener\r\naddListener();\r\nfunction addListener() {\r\n  addToCartBtn.addEventListener('click', pressAddBtn);\r\n  cartIconHeading.addEventListener('click', headingCart);\r\n  cartIconMain.addEventListener('click', openCart);\r\n  overlay.addEventListener('click', closeCart);\r\n  increment.addEventListener('click', increase);\r\n  decrement.addEventListener('click', decrease);\r\n}\r\n// remove listener\r\nfunction removeListener() {\r\n  cartIconMain.removeEventListener('click', openCart);\r\n  overlay.removeEventListener('click', closeCart);\r\n  window.removeEventListener('keydown', closeByPressEsc);\r\n}\r\n// ================= ADD TO CART BUTTON =================\r\n//! add button\r\nfunction pressAddBtn() {\r\n  helpers.save('json', data);\r\n}\r\n\r\n// ================= OPEN/CLOSE CART =================\r\n// open cart\r\nfunction headingCart(e) {\r\n  e.stopPropagation();\r\n\r\n  if (!e.currentTarget) return;\r\n  if (e.currentTarget) {\r\n    sideBar.classList.add('expanded');\r\n    overlay.classList.add('overlay');\r\n    window.addEventListener('keydown', closeByPressEsc);\r\n  }\r\n}\r\n// open cart\r\nfunction openCart(e) {\r\n  e.stopPropagation();\r\n\r\n  if (!e.currentTarget) return;\r\n  if (e.currentTarget) {\r\n    sideBar.classList.add('expanded');\r\n    overlay.classList.add('overlay');\r\n    window.addEventListener('keydown', closeByPressEsc);\r\n  }\r\n}\r\n// close on clicking overlay\r\nfunction closeCart(e) {\r\n  if (e.target === e.currentTarget) {\r\n    removeClass();\r\n  }\r\n}\r\n// close on press Escape\r\nfunction closeByPressEsc(e) {\r\n  if (e.code === 'Escape') {\r\n    removeClass();\r\n  }\r\n}\r\n//! close on close button\r\nfunction closeOnButtonClick(e) {\r\n  if (e.target.nodeName === 'BUTTON') {\r\n    removeClass();\r\n    removeListener();\r\n  }\r\n}\r\n// remove active class\r\nfunction removeClass() {\r\n  sideBar.classList.remove('expanded');\r\n  overlay.classList.remove('overlay');\r\n}\r\n\r\n// ================= QUANTITY/PRICE =================\r\n// increase quantity +1\r\nfunction increase() {\r\n  quantity += 1;\r\n  if (quantity < 10) {\r\n    counter.innerHTML = `0${quantity}`;\r\n  } else {\r\n    counter.innerHTML = quantity;\r\n  }\r\n  quantityPrice();\r\n}\r\n// decrease quantity -1\r\nfunction decrease() {\r\n  if (quantity <= 1) {\r\n    return;\r\n  }\r\n\r\n  quantity -= 1;\r\n  if (quantity < 10) {\r\n    counter.innerHTML = `0${quantity}`;\r\n  } else {\r\n    counter.innerHTML = quantity;\r\n  }\r\n  quantityPrice();\r\n}\r\n// price per quantity\r\nfunction quantityPrice() {\r\n  const result = quantity * priceValue;\r\n  // const rounded = result.toFixed(2);\r\n  amount.innerHTML = `â‚´${result}`;\r\n}\r\n\r\n// ================= SLIDER =================\r\n// function getSlider() {\r\n//   const sliders = document.querySelectorAll('.glide');\r\n\r\n//   for (let i = 0; i < sliders.length; i += 1) {\r\n//     const glide = new Glide(sliders[i], {\r\n//       type: 'carousel',\r\n//       perView: 4,\r\n//       dots: '#dots',\r\n//       autoplay: 6000,\r\n//       breakpoints: {\r\n//         1279: {\r\n//           gap: 26,\r\n//           perView: 2,\r\n//         },\r\n//         767: {\r\n//           gap: 30,\r\n//           perView: 1,\r\n//         },\r\n//       },\r\n//     });\r\n//     glide.mount();\r\n//   }\r\n// }\r\n\r\n// curIndex = 0;\r\n// imgDuration = 2000;\r\n\r\n// function slideShow() {\r\n//   document.querySelector('.glide__slide').src = dataImages[curIndex];\r\n//   curIndex++;\r\n//   if (curIndex == imgArray.length) {\r\n//     curIndex = 0;\r\n//   }\r\n//   setTimeout('slideShow()', imgDuration);\r\n// }\r\n// slideShow();\r\n\r\n// ================= MARKUP =================\r\n\r\nconst capitalizeWord =\r\n  data.DESCRIPTION.charAt(0).toUpperCase() + data.DESCRIPTION.slice(1);\r\n\r\nlet cropped = data.NAME;\r\nlet lastIndex = cropped.lastIndexOf(' ');\r\ncropped = cropped.substring(0, lastIndex);\r\n\r\nfunction detailsMarkup() {\r\n  return `\r\n    <span class=\"details__model\">Model:${data.ID}</span>\r\n    <h3 class=\"details__name\">${cropped}</h3>\r\n    <p class=\"details__about\">${capitalizeWord}</p>`;\r\n}\r\n\r\n// ----------------- render -----------------\r\n// details\r\ndetails.innerHTML = detailsMarkup();\r\n// price\r\nprice.innerHTML = `â‚´ ${priceValue}`;\r\namountSidebar.innerHTML = `â‚´ ${priceValue}`;\r\n// rating\r\nrating.insertAdjacentHTML('beforeend', ratingMarkup(data));\r\n","var Handlebars = require(\"../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"price__color\\\">\\r\\n    <span class=\\\"price__text\\\">Choose your colors:</span>\\r\\n    <div class=\\\"price__buttons\\\">\\r\\n        <button class=\\\"price__button\\\"></button>\\r\\n        <button class=\\\"price__button\\\"></button>\\r\\n    </div>\\r\\n</div>\";\n},\"useData\":true});"],"sourceRoot":""}