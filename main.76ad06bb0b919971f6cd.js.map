{"version":3,"sources":["webpack:///./components/card/templates/rating.hbs","webpack:///./services/helpers.js","webpack:///./components/card/card.js","webpack:///./components/card/templates/images.hbs"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","stack1","alias1","lambda","alias2","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","key","value","serializedState","JSON","stringify","localStorage","setItem","err","console","error","quantity","items","ITEMS","dataImages","dataColors","MODELS","COLORS","priceValue","Number","PRICE","slice","colorBtn","document","querySelector","slides","brand","cartIconMain","cartIconHeading","addToCartBtn","sideBar","overlay","counter","price","amountSidebar","increment","decrement","details","rating","colors","pressAddBtn","headingCart","e","stopPropagation","currentTarget","classList","add","window","addEventListener","closeByPressEsc","openCart","closeCart","target","removeClass","code","remove","increase","setAttribute","quantityPrice","decrease","result","textContent","getInputValue","isNaN","setColor","capitalizeWord","DESCRIPTION","charAt","toUpperCase","cropped","NAME","lastIndex","lastIndexOf","substring","insertAdjacentHTML","reduce","acc","color","COLOR","innerHTML","imagesTemplate","BRAND","LOGO","ID","ratingMarkup","Glide","type","perView","autoplay","hoverpause","mount","Controls","Autoplay","childNodes","activeLink","nullContext","program","noop"],"mappings":"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","file":"main.76ad06bb0b919971f6cd.js","sourcesContent":["var Handlebars = require(\"../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<span class=\\\"rating__rank\\\">\"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"RAT\") : depth0)) != null ? lookupProperty(stack1,\"RATING\") : stack1), depth0))\n    + \"</span>\\r\\n<span class=\\\"rating__reviews\\\">(\"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"RAT\") : depth0)) != null ? lookupProperty(stack1,\"REVIEWS\") : stack1), depth0))\n    + \" reviews)</span>\";\n},\"useData\":true});","const load = key => {\r\n  try {\r\n    const serializedState = localStorage.getItem(key);\r\n\r\n    return serializedState === null ? undefined : JSON.parse(serializedState);\r\n  } catch (err) {\r\n    console.error('Get state error: ', err);\r\n  }\r\n};\r\n\r\nconst save = (key, value) => {\r\n  try {\r\n    const serializedState = JSON.stringify(value);\r\n    localStorage.setItem(key, serializedState);\r\n  } catch (err) {\r\n    console.error('Set state error: ', err);\r\n  }\r\n};\r\n\r\nexport default { load, save };\r\n","// import Glide from '@glidejs/glide';\r\nimport Glide, {\r\n  Controls,\r\n  Autoplay,\r\n} from '@glidejs/glide/dist/glide.modular.esm';\r\n\r\nimport items from '../../services/ITEMS.json';\r\nimport ratingMarkup from './templates/rating.hbs';\r\nimport imagesTemplate from './templates/images.hbs';\r\nimport helpers from '../../services/helpers';\r\n\r\nimport '../../scss/glide/glide.core.scss';\r\nimport '../../scss/components/card.scss';\r\nimport '../../scss/components/sidebar.scss';\r\n\r\nlet quantity = 1;\r\n// json data\r\nconst data = items.ITEMS[0];\r\nconst dataImages = items.ITEMS[0];\r\nconst dataColors = items.ITEMS[0].MODELS.COLORS;\r\nconst priceValue = Number(data.PRICE.slice(1));\r\n\r\n// console.log(data);\r\n// ================= QUERY SELECTOR =================\r\n// side bar\r\nconst colorBtn = document.querySelector('.price__buttons');\r\nconst slides = document.querySelector('.js-slides');\r\nconst brand = document.querySelector('.js-brand');\r\nconst cartIconMain = document.querySelector('.js-cart-icon');\r\nconst cartIconHeading = document.querySelector('.js-heading-cart');\r\nconst addToCartBtn = document.querySelector('.js-btn-add'); //! not used\r\n// const sidebarUl = document.querySelector('.sidebar__list'); //! not used\r\nconst sideBar = document.querySelector('.js-sidebar');\r\nconst overlay = document.querySelector('.js-overlay');\r\n// quantity\r\nconst counter = document.querySelector('.js-number');\r\nconst price = document.querySelector('.js-amount');\r\nconst amountSidebar = document.querySelector('.js-amount-sidebar');\r\nconst increment = document.querySelector(\"[data-action='increment']\");\r\nconst decrement = document.querySelector(\"[data-action='decrement']\");\r\n// markup\r\nconst details = document.querySelector('.js-details');\r\nconst rating = document.querySelector('.js-rating'); // before end\r\nconst colors = document.querySelector('.js-colors');\r\n// ================= ADD/REMOVE LISTENER =================\r\n// add listener\r\naddListener();\r\nfunction addListener() {\r\n  counter.addEventListener('input', getInputValue);\r\n  colors.addEventListener('click', setColor);\r\n  addToCartBtn.addEventListener('click', pressAddBtn);\r\n  cartIconHeading.addEventListener('click', headingCart);\r\n  cartIconMain.addEventListener('click', openCart);\r\n  overlay.addEventListener('click', closeCart);\r\n  increment.addEventListener('click', increase);\r\n  decrement.addEventListener('click', decrease);\r\n}\r\n// remove listener\r\nfunction removeListener() {\r\n  cartIconMain.removeEventListener('click', openCart);\r\n  overlay.removeEventListener('click', closeCart);\r\n  window.removeEventListener('keydown', closeByPressEsc);\r\n}\r\n// ================= ADD TO CART BUTTON =================\r\n//! add button\r\nfunction pressAddBtn() {\r\n  helpers.save('json', data);\r\n}\r\n\r\n// ================= OPEN/CLOSE CART =================\r\n// open cart\r\nfunction headingCart(e) {\r\n  e.stopPropagation();\r\n\r\n  if (!e.currentTarget) return;\r\n  if (e.currentTarget) {\r\n    sideBar.classList.add('expanded');\r\n    overlay.classList.add('overlay');\r\n    window.addEventListener('keydown', closeByPressEsc);\r\n  }\r\n}\r\n// open cart\r\nfunction openCart(e) {\r\n  e.stopPropagation();\r\n\r\n  if (!e.currentTarget) return;\r\n  if (e.currentTarget) {\r\n    sideBar.classList.add('expanded');\r\n    overlay.classList.add('overlay');\r\n    window.addEventListener('keydown', closeByPressEsc);\r\n  }\r\n}\r\n// close on clicking overlay\r\nfunction closeCart(e) {\r\n  if (e.target === e.currentTarget) {\r\n    removeClass();\r\n  }\r\n}\r\n// close on press Escape\r\nfunction closeByPressEsc(e) {\r\n  if (e.code === 'Escape') {\r\n    removeClass();\r\n  }\r\n}\r\n//! close on close button\r\nfunction closeOnButtonClick(e) {\r\n  if (e.target.nodeName === 'BUTTON') {\r\n    removeClass();\r\n    removeListener();\r\n  }\r\n}\r\n// remove active class\r\nfunction removeClass() {\r\n  sideBar.classList.remove('expanded');\r\n  overlay.classList.remove('overlay');\r\n}\r\n// ================= QUANTITY/PRICE =================\r\n// increase quantity +1\r\nfunction increase() {\r\n  if (quantity >= 99) {\r\n    return;\r\n  }\r\n  quantity += 1;\r\n\r\n  if (quantity < 10) {\r\n    counter.setAttribute('value', `0${quantity}`);\r\n  } else {\r\n    counter.setAttribute('value', quantity);\r\n  }\r\n  quantityPrice();\r\n}\r\n// decrease quantity -1\r\nfunction decrease() {\r\n  if (quantity <= 1) {\r\n    return;\r\n  }\r\n\r\n  quantity -= 1;\r\n\r\n  if (quantity < 10) {\r\n    counter.setAttribute('value', `0${quantity}`);\r\n  } else {\r\n    counter.setAttribute('value', quantity);\r\n  }\r\n  quantityPrice();\r\n}\r\n// price per quantity\r\nfunction quantityPrice() {\r\n  const result = quantity * priceValue;\r\n  // const rounded = result.toFixed(2);\r\n  price.textContent = `₴${result}`;\r\n  // counter.textContent = quantity;\r\n}\r\n\r\nfunction getInputValue(e) {\r\n  if (isNaN(e.currentTarget.value)) {\r\n    return;\r\n  }\r\n  quantity = Number(e.currentTarget.value);\r\n  counter.setAttribute('value', `0${quantity}`);\r\n  quantityPrice();\r\n}\r\n// ================= MARKUP =================\r\nconst capitalizeWord =\r\n  data.DESCRIPTION.charAt(0).toUpperCase() + data.DESCRIPTION.slice(1);\r\n\r\nlet cropped = data.NAME;\r\nlet lastIndex = cropped.lastIndexOf(' ');\r\ncropped = cropped.substring(0, lastIndex);\r\n\r\nfunction detailsMarkup() {\r\n  return `\r\n    <span class=\"details__model\">Model:${data.ID}</span>\r\n    <h3 class=\"details__name\">${cropped}</h3>\r\n    <p class=\"details__about\">${capitalizeWord}</p>`;\r\n}\r\n\r\nfunction brandMarkup() {\r\n  return `\r\n      <img src=\"${data.BRAND.LOGO}\" class=\"card-heading__logo\">\r\n  `;\r\n}\r\n\r\nfunction colorBtnsMarkup() {\r\n  const res = dataColors.reduce((acc, color) => {\r\n    return (acc += `<button style=\"background-color: ${color.COLOR}\" class=\"price__button\"></button>`);\r\n  }, '');\r\n  return res;\r\n}\r\n// ----------------- render -----------------\r\n// colors\r\ncolors.insertAdjacentHTML('beforeend', colorBtnsMarkup());\r\n// slide images\r\nslides.innerHTML = imagesTemplate(dataImages);\r\n// brandName\r\nbrand.innerHTML = brandMarkup();\r\n// details\r\ndetails.innerHTML = detailsMarkup();\r\n// price\r\nprice.textContent = `₴${priceValue}`;\r\namountSidebar.innerHTML = `₴${priceValue}`;\r\n// rating\r\nrating.insertAdjacentHTML('beforeend', ratingMarkup(data));\r\n// ================= SLIDER =================\r\nnew Glide('.glide', {\r\n  type: 'carousel',\r\n  perView: 1,\r\n  autoplay: 3000,\r\n  hoverpause: true,\r\n}).mount({ Controls, Autoplay });\r\n// ================= COLORS =================\r\nconst defaultSelected = colorBtn.childNodes[0].classList.add(\r\n  'price__button_active',\r\n);\r\n\r\nfunction setColor(e) {\r\n  if (e.currentTarget === e.target) return;\r\n  const activeLink = e.currentTarget.querySelector('.price__button_active');\r\n\r\n  if (activeLink) {\r\n    activeLink.classList.remove('price__button_active');\r\n  }\r\n\r\n  e.target.classList.add('price__button_active');\r\n}\r\n","var Handlebars = require(\"../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"<li class=\\\"glide__slide\\\"><img class=\\\"glide__img\\\" src=\\\"\"\n    + container.escapeExpression(container.lambda(depth0, depth0))\n    + \"\\\" alt=\\\"product\\\"></li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"IMAGES\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":3,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});"],"sourceRoot":""}